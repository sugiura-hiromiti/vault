---
title: lazy.nvimã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è¨­å®šã¨ã‹ã‚’è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨˜è¿°ã™ã‚‹
emoji: ğŸ« 
type: tech
topics:
  - lua
  - neovim
published: true
published_at: 2023-01-21 10:07
created: 250426 08:55:26
updated: 250623 09:41:03
---

[packer](https://github.com/wbthomason/packer.nvim)ã‹ã‚‰[lazy.nvim](https://github.com/folke/lazy.nvim)ã«ä¹—ã‚Šæ›ãˆãŸã®ã§ã™ãŒã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®åˆ†é¡æ¯ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†ã‘ã‚ˆã†ã¨ã—ãŸã¨ã“ã‚ *ãã‚Œã¯ã‚µãƒãƒ¼ãƒˆã—ã¦ãªã„ã‚ˆ!* ã¿ãŸã„ãªã“ã¨è¨€ã‚ã‚ŒãŸã®ã§ã€è‡ªåŠ›ã§å¯¾å¿œã—ã¾ã™ã€‚

*å°šã€ãã®å ´ã§é©å½“ã«å¯¾å¿œã—ãŸã‚‚ã®ãªã®ã§ã€ãƒãƒƒãƒˆä¸Šã«ã¯ã‚‚ã£ã¨è‰¯ã„è§£æ±ºæ³•ãŒè»¢ãŒã£ã¦ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚æ‚ªã—ã‹ã‚‰ãšã€‚*

# è©³ç´°

è‡ªåˆ†ã®`$XDG_CONFIG_HOME/nvim/`ä¸‹ã¯ä»¥ä¸‹ã®æ§˜ãªæ§‹é€ ã«ãªã£ã¦ã¾ã™ã€‚
```
nvim/
â”œâ”€â”€ lua/
â”‚  â”œâ”€â”€ ext/
â”‚  â”‚  â”œâ”€â”€ cmps.lua
â”‚  â”‚  â”œâ”€â”€ init.lua
â”‚  â”‚  â”œâ”€â”€ lib.lua
â”‚  â”‚  â”œâ”€â”€ lsp.lua
â”‚  â”‚  â”œâ”€â”€ telescopes.lua
â”‚  â”‚  â”œâ”€â”€ ts.lua
â”‚  â”‚  â”œâ”€â”€ ui.lua
â”‚  â”‚  â””â”€â”€ write.lua
â”‚  â”œâ”€â”€ map.lua
â”œâ”€â”€ lazy-lock.json
â””â”€â”€ init.lua
```
æ–¹å‘æ€§ã¨ã—ã¦ã¯`ext/`ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã—ã€ãã‚Œã‚’`ext/init.lua`ã§èª­ã¿è¾¼ã¿ã¾ã™ã€‚ã§ã¯ã©ã†ã‚„ã£ã¦èª­ã¿è¾¼ã‚€ã®ã‹ã¨ã„ã†ã¨ã€å„ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰tableã‚’è¿”ã™æ§˜ã«ã—ã¾ã™ã€‚å…·ä½“çš„ã«ã¯ã€
```lua: ext/write.lua
return {
	{
		'windwp/nvim-autopairs',
		config = function()
			require('nvim-autopairs').setup { map_c_h = true }
		end,
	},
	{
		'jackMort/ChatGPT.nvim',
		config = true,
	},
	{
		'AckslD/nvim-FeMaco.lua',
		config = true,
	},
	'L3MON4D3/LuaSnip',
}
```
ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚

æ¬¡ã«ã€ã€€`ext/init.lua`ã«ä»¥ä¸‹ã®ã‚ˆã†ãªè¨˜è¿°ã‚’è¿½åŠ ã—ã¾ã™ã€‚
```lua: ext/init.lua
local lazypath = vim.fn.stdpath 'data' .. '/lazy/lazy.nvim'
if not vim.loop.fs_stat(lazypath) then
	vim.fn.system {
		'git',
		'clone',
		'--filter=blob:none',
		'https://github.com/folke/lazy.nvim.git',
		'--branch=stable', -- latest stable release
		lazypath,
	}
end
vim.opt.rtp:prepend(lazypath)

-- ã“ã“ã‹ã‚‰ä¸‹--

-- listup plugins here which is difficult to classify
local plugins = {
	{
		'chrisgrieser/nvim-recorder',
		config = function()
			require('recorder').setup {
				mapping = { startStopRecording = '<f9>' },
			}
		end,
	},
}

-- make sure that each file returns table of plugins
local load_plugins = {
	require 'ext.lib',
	require 'ext.ui',
	require 'ext.write',
	require 'ext.ts',
	require 'ext.lsp',
	require 'ext.cmps',
	require 'ext.telescopes',
}

for _, t in pairs(load_plugins) do
	for _, p in pairs(t) do
		table.insert(plugins, p)
	end
end

require('lazy').setup(plugins, { checker = { enable = true, frequency = 1 } })
```

ã‚ã¨ã¯ãŠå¥½ã¿ã§å„è‡ªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ã£ã¦ãã ã•ã„ã€‚ä»–ã«ã‚‚ã£ã¨ã„ã„æ–¹æ³•ãŒã‚ã‚‹å ´åˆæ•™ãˆã¦ã„ãŸã ã‘ã‚‹ã¨å¬‰ã—ã„ã§ã™